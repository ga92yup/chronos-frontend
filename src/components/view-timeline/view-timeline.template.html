<section layout="column" layout-align="center center">
    <h2>{{ $ctrl.getHeadline() }}</h2>
    <div layout="row" style="width: 100%">
    <md-button flex class="md-raised landing md-accent" ng-click="$ctrl.newTimeline()">Create a new timeline</md-button>
    </div>
</section>


<!-- We define timelines in routes.js.-->

<md-card ng-repeat="timeline in $ctrl.timelines | orderBy:timeline.created_at:true" >
    <md-card-title>
        <md-card-title-media>
            <div layout="row" layout-align="center center" layout-padding>
                <img ng-src="{{$ctrl.getPosterURL()}}" class="md-media-md">
            </div>
        </md-card-title-media>
        <md-card-title-text>
            <md-card-actions layout="row" layout-align="end center">
                <md-button class="md-icon-button" aria-label="Edit Item" ng-click="$ctrl.edit(timeline)">
                    <md-icon>
                        <ng-md-icon icon="mode_edit"></ng-md-icon>
                    </md-icon>
                </md-button>

                <md-button class="md-icon-button" aria-label="Delete Item" ng-click="$ctrl.delete(timeline)">
                    <md-icon>
                        <ng-md-icon icon="delete"></ng-md-icon>
                    </md-icon>
                </md-button>
            </md-card-actions>
            <span class="md-headline">{{timeline.name}}</span>
            <md-card-actions>
                <div layout="row" layout-align="end center">
                    <md-switch  md-invert ng-model="timeline.privacySetting" ng-change="$ctrl.privacy(timeline.privacySetting , timeline)" layout-align="end" ng-hide="$ctrl.showSwitch()">Public</md-switch>
                </div>

            </md-card-actions>
            <span>User: {{$ctrl.getCurrentUser()}}</span>
            <span class="md-subhead">Creation Date: </span>
            <span class="md-subhead">Description: {{timeline.description}}</span>
        </md-card-title-text>

    </md-card-title>
    <div style="visibility: hidden">
        <div class="md-dialog-container" id="myDialog">
            <md-dialog layout="fix" layout-padding></md-dialog>
        </div>
    </div>

    <md-card-content>
        <p></p>
    </md-card-content>
</md-card>